{
  "version": "1.0",
  "exportedAt": "2025-11-06T09:59:27.605Z",
  "nodes": [
    {
      "id": "telegram-1389",
      "type": "telegram",
      "position": {
        "x": 2340.490027651683,
        "y": 1782.7117631578872
      },
      "data": {
        "label": "bot"
      }
    },
    {
      "id": "trigger-922",
      "type": "trigger",
      "position": {
        "x": 3300.13942879457,
        "y": 1151.2492534025419
      },
      "data": {
        "label": "New trigger",
        "scheduleType": "interval",
        "intervalValue": 5,
        "intervalUnit": "minutes",
        "cronExpression": "",
        "timezone": "Asia/Tehran",
        "messageTemplate": "",
        "contextData": {},
        "isActive": false
      }
    },
    {
      "id": "filedb-416",
      "type": "filedb",
      "position": {
        "x": 2586.6480352879435,
        "y": 973.6843871080162
      },
      "data": {
        "label": "Content Guide"
      }
    },
    {
      "id": "googledoc-824",
      "type": "googledoc",
      "position": {
        "x": 2876.146176311851,
        "y": 1050.162567607833
      },
      "data": {
        "label": "Content Writing Guide",
        "doc_id": "",
        "doc_name": "راهنمای نگارش محتوا",
        "operation_type": "read",
        "selected_documents": [],
        "function_config": {
          "document_sections": [],
          "document_description": "",
          "content_format": "plain_text",
          "max_content_length": 5000
        }
      }
    },
    {
      "id": "googlesheet-941",
      "type": "googlesheet",
      "position": {
        "x": 2254.759960436342,
        "y": 1070.7030642829461
      },
      "data": {
        "label": "Content Calendar",
        "sheet_id": "",
        "sheet_name": "تقویم محتوا",
        "operation_type": "read",
        "selected_sheets": [],
        "function_config": {
          "default_range": "A1:Z1000",
          "header_row": 1,
          "column_definitions": [],
          "sheet_description": ""
        }
      }
    },
    {
      "id": "assistant-2214",
      "type": "assistant",
      "position": {
        "x": 2711.136369849334,
        "y": 1329.783334578657
      },
      "data": {
        "label": "Content Production Assistant",
        "instructions": "You automatically generate SEO-optimized WordPress content by reading data from a specified Google Sheet, utilizing brand tone and content style guidelines from designated files, updating the sheet status, and generating a relevant featured image.\n\nData Sources:\n- Google Sheet ID: [Your Google Sheet ID]\n  - Columns:\n    - A: Article ID\n    - B: Article Title\n    - C: Main Keyword\n    - D: Publication Status (e.g., \"to_do\", \"done\")\n- Google Doc ID: [Your Google Doc ID] for brand tone guidelines (read_google_doc)\n- File ID: [Your File Database ID] from file repository for writing style guidelines\nGoogle Doc and File are inside the Vector Store with [Your Vector Store ID]\n\nStep-by-Step Logic:\n\n1. Read Data from Google Sheet:\n   - Call function read_google_sheet to load sheet data.\n   - Find the first row where Column D = \"to_do\".\n   - If multiple \"to_do\" entries exist, select the row with the smallest ID.\n   - Store this row number for later steps.\n   - Extract the article title and main keyword from columns B and C respectively.\n\n2. Generate WordPress Content with SEO Optimization:\n   - Read brand tone guidelines from Google Doc.\n   - Read writing style guidelines from File.\n   - Generate content using the article title and main keyword.\n   - SEO Requirements:\n     - Natural and repeated usage of the main keyword throughout content (2-4% density).\n     - Include the main keyword in the main title.\n     - Balanced keyword distribution in subheadings.\n     - Use related and LSI keywords.\n     - Logical and hierarchical content structure.\n     - Valuable, original, user-focused content.\n     - Paragraph length about 2-4 lines.\n     - Use diverse sentence lengths.\n   - Content Structure:\n     - Main Title (with main keyword)\n     - Introduction paragraph including the main keyword naturally.\n     - Main heading 1 with detailed content including main and related keywords.\n       - Key points as a bullet list.\n     - Subheading with supplementary information.\n     - Main heading 2 continuing content with value for readers.\n\n3. Update Status:\n   - Call update_google_sheet (row_number, \"done\") to update Column D status.\n   - This update must happen regardless of success or failure.\n\n4. Generate Image:\n   - Create a relevant featured image based on the article title.\n   - Include in output JSON:\n     {\n      \"generated_images\": [[\"generated_image\"]]\n     }\n\n5. Output:\n   - Present the generated content as a plain text SEO-optimized article.\n   - Include the generated image data as described.",
        "model": "gpt-4.1-mini",
        "ai_provider": "openai",
        "temperature": 1,
        "top_p": 1,
        "reasoning_effort": null,
        "hasCodeInterpreter": false,
        "hasDelaversInterpreter": false,
        "enable_web_search": false,
        "function_names": [],
        "assistant_type": "regular",
        "company_id": null,
        "hasExecutionCapability": false,
        "hasFunctions": false
      }
    },
    {
      "id": "imagegeneration-332",
      "type": "imagegeneration",
      "position": {
        "x": 2692.263990257989,
        "y": 1776.0156989058653
      },
      "data": {
        "label": "Image production"
      }
    },
    {
      "id": "wordpress-304",
      "type": "wordpress",
      "position": {
        "x": 3072.4999670961456,
        "y": 1785.6060319503101
      },
      "data": {
        "label": "New WordPress"
      }
    }
  ],
  "edges": [
    {
      "id": "egooglesheet-941-assistant-2214",
      "source": "googlesheet-941",
      "target": "assistant-2214"
    },
    {
      "id": "etrigger-922-assistant-2214",
      "source": "trigger-922",
      "target": "assistant-2214"
    },
    {
      "id": "eassistant-2214-telegram-1389",
      "source": "assistant-2214",
      "target": "telegram-1389"
    },
    {
      "id": "eassistant-2214-imagegeneration-332",
      "source": "assistant-2214",
      "target": "imagegeneration-332"
    },
    {
      "id": "eassistant-2214-wordpress-304",
      "source": "assistant-2214",
      "target": "wordpress-304"
    },
    {
      "id": "eassistant-2214-filedb-416",
      "source": "filedb-416",
      "target": "assistant-2214"
    },
    {
      "id": "egoogledoc-824-assistant-2214-1762423134415",
      "source": "googledoc-824",
      "target": "assistant-2214"
    }
  ]
}